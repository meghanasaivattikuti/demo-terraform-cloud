import "tfrun"
import "decimal"

threshold = decimal.new(20.00)

main = rule {
  # Only run check if cost estimate is available
  if tfrun.cost_estimate is null {
    print("No cost estimate available, skipping policy.")
    true
  } else {
    proposed = decimal.new(tfrun.cost_estimate.proposed_monthly_cost)
    print("Proposed monthly cost is: $", proposed, " | Threshold: $", threshold)

    proposed <= threshold
  }
}
